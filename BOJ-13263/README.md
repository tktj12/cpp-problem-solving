# Problem
* https://www.acmicpc.net/problem/13263
* 점점 커지는 나무, 점점 작아지는 충전 비용. 나무를 완전히 자르는 충전 비용의 최솟값 구하기
* 난이도 : 플레티넘 2

# Solution

### 방법 1 : convex hull trick (DP 최적화)
* 풀이
  * 이 문제를 풀기 위해 첫 번째로 깨달아야 할 것은 i번째 나무를 자른 후에 (아직 자르지 않은)
  j(<i)번째 나무를 자르면 손해라는 것이다. i번째 나무를 자른 순간 어떤 j번째 나무를 자르든 
  충전 비용이 더 낮아지지 않는다. 따라서 i보다 작은 아직 자르지 않은 나무들은 마지막 나무를 자르고 
  충전 비용이 0인 상태에서 모두 자르는 게 제일 현명하다.
  * 따라서 이 문제는 "**마지막 나무까지 가장 적은 비용으로 도달하기**"로 생각할 수 있다. 
  당연히 마지막 나무부터 자르는 게 무조건 좋은 방법은 아닐 거다. 
  * 임의의 i에 대해 i보다 뒤쪽에 있는 나무를 자르지 않고 i번째 나무를 완전히 자르는 데 최적의 비용을 $F(i)$라고 해보자. 
  $F(1) = 0$이고 $F(2) = b_1 * a_2$일 것이다. 그러면 $F(3)$은 몇일까?   
  $min(\ b_1* a_3+F(1) \ , b_2* a_3+F(2) \ )$일 것이다.   
  이것을 일반항으로 만들면 $F(i) = min_{j < i} ( b_j* a_i + F(j) )$ 이다.   
  * $F(i)$를 알기 위해선 모든 $j(< i)$에 대해 $F(j)$를 알고 있어야 한다. 
  따라서 $F(n)$을 구하기 위해선 $F()$를 총 $O(n^2)$번 실행해야한다. 
  그런데 이 문제는 $n$이 최대 100,000이다. 
  * 여기서 두 번째로 깨달아야 할 점은 식 $b_j*a_i + F(j)$은 어떻게 보면 $a_i$를 $x$, $b_j$를 기울기, $F(j)$를 y절편으로 하는 일차원 
  직선으로 생각할 수 있는데 모든 $j$에 대해 좌표 평면 상에 그려보면 규칙적인 형태의 그림이 나온다는 것이다.   
  $j$가 증가할 수록 $b_j$는 감소하고, $F(j)$는 증가한다. 이와 같은 직선을 좌표 평면에 3개만 그려봐도 알 수 있는 건 
  이것으로 볼록 껍질을 구할 수 있겠다는 것이다. convex hull trick은 이러한 DP문제를 풀 때 유용하게 쓰인다.

* 시간 복잡도 :
  * $O(n\log n)$
<br></br>

# Learning
* double 자료형은 정수를 $2^{52}$까지 정확하게 표현할 수 있다. 
따라서 문제에서 정수만을 사용하고 그 범위가 $2^{52}$을 초과한다면 double 자료형을 쓰는 걸 신중하게 생각해봐야 한다.
