# Problem
* https://algospot.com/judge/problem/read/FENCE
* 울타리에서 자를 수 있는 직사각형 중 가장 넓은 것을 구하는 문제
* 난이도 : 중

# Solution

### 방법 1 : 완전 탐색
* 풀이
  * 높이 H에 대해 1번 판자부터 N번 판자까지 탐색을 수행
  * 현재 판자의 높이 $\ge H$ 라면 sum 값에 H를 더하고, 아니라면 sum 값을 0으로 초기화한다.
  * sum이 0으로 초기화 되기 전, 혹은 N번 판자까지 탐색이 끝났을 때 sum 값과 max 값을 비교한다.
  * 모든 높이에 대해 탐색하여 가장 큰 sum 값을 구한다.

* 시간 복잡도 :
  * $O(HN)$
  * H가 최대 10000, N이 최대 20000, 테스트 케이스의 개수가 50이므로 최악의 경우 10000x20000x50=100억의 수행시간이 걸린다. 따라서 시간초과가 난다.

<br></br>

### 방법 2 : 분할 정복, 세그먼트 트리
* 풀이
  * 임의의 구간에서 그 구간의 최솟값을 기준으로 가장 너비가 긴 직사각형을 구할 수 있음
  * 최솟값은 세그먼트 트리를 이용하여 빠르게 구함
  * 그 최솟값을 가진 울타리를 기준으로 왼쪽, 오른쪽 구간으로 나누어서 분할 정복
  * 계산된 직사각형의 넓이 중 가장 큰 것을 반환

* 시간 복잡도 :
  * $O(2*N + N\log_2 N) = O(N\log N)$

* 재귀 함수의 호출 횟수를 신경써야 한다. N이 더 커지면 스택 오버 플로우가 발생하기 쉽다.

<br></br>

### 방법 3 : 분할 정복 (책 내용)
* 풀이
  * 문제에 정답이 세 구간 중 하나에 있다고 생각한다.
  * 1: 왼쪽 구간, 2: 오른쪽 구간, 3: 중간의 2개의 판자를 포함하는 구간
  * 1, 2번 구간은 분할 정복으로 푼다.
  * 3번 구간은 중간의 2개의 판자에서 좌우로 넓혀가며 구한다.
    * 넓힐 때는 왼쪽과 오른쪽 판자 중에 더 높은 것 부터 포함시킨다.
  * 세 구간의 값 중 최댓값을 반환한다.

* 시간 복잡도 :
  * $O(N\log N)$

* 문제를 정확히 반으로 나눈다.
